var emil  = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;var phone = /^1[3458][0-9]\d{8}$/;$(function(){	var contentFlag = "输入最少5个字"	$("#content").val(contentFlag);	$("#content").mousedown(function(){		if(this.value == contentFlag){			this.value = "";		}	});	$("#content").scroll(function(){		$(this).height(this.scrollHeight);	})		var contactInfoFlag = "输入11位的手机号码";	$("#contactInfo").val(contactInfoFlag);	$("#contactInfo").mousedown(function(){		if(this.value == contactInfoFlag){			this.value = "";		}	});		$("#submitBtn").click(function(){		var cv = $("#content").val();		var civ = $("#contactInfo").val();		if(!cv || cv == contentFlag ){	    	//弹吐丝			toast("您遇到的问题不可为空");			return;		}		if(!civ || civ == contactInfoFlag){	    	//弹吐丝			toast("您的联系方式 不可为空");			return;		}		if(!emil.test(civ) && !phone.test(civ)){	    	//弹吐丝			toast("请输入正确的手机号或邮箱地址");			return;		}		if(getLength(cv)>100 || getLength(cv)<5){		    	//弹吐丝				toast("请输入5-100字的内容");				return;		}		if(getLength(civ)>100){		    	//弹吐丝				toast("您的联系方式内容长度不得大于60字");				return;		}		if(submitting){			return ;		}		submitData();	});});var submitting = false;function submitData(){	submitting = true;	var _data = $("#submitForm").serialize()	$.ajax({		   type: "POST",		   url: $("#submitUrlIpt").val(),		   data: _data,		   dataType:"json",		   success: function(msg){		     if(msg.success){		    	 //调用通知方法		    	//弹吐丝				//toast("提交成功");		    	 $("#submitForm").get(0).reset();//重置数据		    	 $("#toReplyForm").submit();		     }else{		    	 submitting = false;		    	 //调用通知方法		    	toast("提交失败");		     }		   }		});}/** * 得到字符长度，汉字1个算一个，英文3个算一个，最近向上取整 * @param msg * @returns */function getLength(msg){	if(msg){		return msg.length;	}	return 0;}